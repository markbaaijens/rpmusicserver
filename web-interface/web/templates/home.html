{% extends 'base.html' %}

{% block content %}
    <div class="sub-header">
        <small>
        <a class="external-link" href="{{ machineInfo.HostUrl }}:9002" target="_blank">LogitechMediaServer</a>&nbsp;&nbsp;
        <a class="external-link" href="{{ machineInfo.HostUrl }}:9091" target="_blank">Transmission</a>&nbsp;&nbsp;
        <a class="external-link" href="{{ machineInfo.HostUrl }}:8384" target="_blank">SyncThing</a>&nbsp;&nbsp;        
        <a class="external-link" href="https://github.com/markbaaijens/rpmusicserver" target="_blank">GitHub</a> 
        </small>
    </div>
    <p>
    <h2>Machine</h2>
    <table>
        <tr>
            <td>Hostname</td>
            <td><b>{{ machineInfo.HostName }}</b></td>
        </tr>
        <tr>
            <td>IP Address</td>
            <td><b>{{ machineInfo.IpAddress }}</b></td>
        </tr>
        <tr>
            <td>Raspberry Pi</td>
            <td><b>{{ machineInfo.RpModel }}</b> | <b>{{ machineInfo.RpModelMemoryInGB }}</b></td>
        </tr>
        <tr>
            <td>OS</td>
            <td><b>{{ machineInfo.OsDescription }}</b> | <b>{{ machineInfo.OsBitType }}</b></td>
        </tr>        
        <tr>
            <td>Uptime</td>
            <td><b>{{ machineInfo.UpTime }}</b></td>
        </tr>
    </table>    

    <h2>Version</h2>
    <table>
        <tr>
            <td>Current Version</td>
            <td><b>{{ versionInfo.CurrentVersion }}</b></td>
        </tr>
        <tr>
            <td>Available Version</td>
            <td><b>{{ versionInfo.AvailableVersion }}</b></td>
        </tr>
        <tr>
            <td>Last Update</td>
            <td><b>{{ versionInfo.LastUpdateTimeStamp }}</b></td>
        </tr>
        {% if versionInfo.IsVersionOverridden %}
            <tr>
                <td>Update Branch</td>
                <td>
                    <b>{{ versionInfo.UpdateBranchName }}</b>
                </td>
            </tr>
            <tr>
                <td>Version overridden?</td>
                <td>
                    {% if versionInfo.IsVersionOverridden %}
                        <span class="checkmark-y"> &#10004; </span>
                    {% else %}
                        <span class="checkmark-n"> &#x2717; </span> 
                    {% endif %}
                </td>
            </tr>         
        {% endif %}        
    </table>  
    <p>
    {% if versionInfo.CanUpdate %}
        <a href="/update-rpms" class="link-button">Update</a> 
    {% else %}
        <a class="link-button disabled">Update</a> 
    {% endif %}            
        
    </table>  
{% endblock %}
