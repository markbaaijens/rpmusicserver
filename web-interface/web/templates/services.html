{% extends 'base.html' %}

{% block content %}
    <h2>Services</h2>
    <h3>Players</h3>
    <p>
        {% for lmsPlayer in lmsPlayers %}
        <div>
            {% if lmsPlayer.Type == 'pc' %}
                <img src="{{ url_for('static',filename='players/pc.svg') }}">
            {% else %}
                {% if lmsPlayer.Type == 'pi' %}
                    <img src="{{ url_for('static',filename='players/pi.svg') }}">
                {% else %}
                    {% if lmsPlayer.Type == 'sb-boom' %}
                        <img src="{{ url_for('static',filename='players/sb-boom.svg') }}">
                    {% else %}
                        {% if lmsPlayer.Type == 'sb-radio' %}
                            <img src="{{ url_for('static',filename='players/sb-radio.svg') }}">
                        {% else %}                        
                            {% if lmsPlayer.Type == 'sb-receiver' %}
                                <img src="{{ url_for('static',filename='players/sb-sb-receiver.svg') }}">
                            {% else %}
                                {% if lmsPlayer.Type == 'sb-touch' %}
                                    <img src="{{ url_for('static',filename='players/sb-receiver.svg') }}">
                                {% else %}                                    
                                    <img src="{{ url_for('static',filename='players/sb-receiver.svg') }}">
                                {% endif %} 
                            {% endif %} 
                        {% endif %} 
                    {% endif %}                     
                {% endif %} 
            {% endif %} 
            <b>{{ lmsPlayer.Name }}</b> | {{ lmsPlayer.Model }}
            {% if lmsPlayer.IsWebServer %}
                | <a class="external-link" href="http://{{ lmsPlayer.IpAddress }}" target="_blank">web</a>
            {% endif %}                    
        </div>
        {% endfor %} 
    <h3>Port Status</h3>
    <p>
    {% for service in serviceList %}
    <div>
        {% if service.IsActive %}
            <span class="checkmark-y"> &#10004; </span>
            {{ service.PortNumber }} {{ service.ServiceName }}
        {% else %}
            <span class="checkmark-n"> &#x2717; </span>
            {{ service.PortNumber }} {{ service.ServiceName }}        
        {% endif %}        
    </div>
    {% endfor %} 
    <p>
    <div><em>Services may take a few moments to become visible to the outside.</em></div>
    <div><em>Use <code>watch nmap rpms</code> on your client for a correct result.</em></div>  

    <h3>Docker</h3>
    <p>
    {% for dockerContainer in dockerContainerList %}
    <div>
        {% if dockerContainer.IsActive %}
            <span class="checkmark-y"> &#10004; </span>
            {{ dockerContainer.ContainerName }}
        {% else %}
            <span class="checkmark-n"> &#x2717; </span>
            {{ dockerContainer.ContainerName }}        
        {% endif %}        
    </div>
    {% endfor %} 
    <div>
        <p>
        <a href="/start-docker" class="link-button">Start</a> 
        <a href="/kill-docker" class="link-button">Kill</a>
        <a href="/update-docker" class="link-button">Update</a>        
    </div> 

    <h3>Api</h3>
    <table>
        <tr>
            <td>Documentation</td>
            <td>
                <b>
                <a class="external-link" href="{{ machineInfo.HostUrl }}:5000/api/GetApiList" target="_blank">{{ apiInfo.Documentation }}</a>
                </b>
            </td>
        </tr>
        <tr>
            <td>Url</td>
            <td><b>{{ apiRootUrl }}</b></td>
        </tr>
        <tr>
            <td>Name</td>
            <td><b>{{ apiInfo.ApiName }}</b></td>
        </tr>                
    </table>  

{% endblock %}
